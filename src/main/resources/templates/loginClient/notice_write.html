<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항</title>
    <link rel="stylesheet" href="css/css.css">
</head>
<body>
  <header>
    <nav class="navbar">
        <div class="navbar_logo">
            <a href="login_index.html"><img src="./img/nav_logo.png"/></a>
        </div>
        <div class="navbar_menu">
            <ul class="main_menu">
                <li><a href="####">안녕하세요, <span style="font-weight: bold;">박시영</span>님 ∨
                    <ul class="sub_menu">
                        <li><a href="login_profile.html" style="font-size: 15px; margin-left: 5px;">프로필</a></li>
                        <li><a href="login_group.html" style="font-size: 15px; margin-left: 5px;">동아리</a></li>
                        <li><form style="cursor: pointer;">
                            <button action="####" style="border: 0;
                            background-color: transparent; cursor: pointer; font-size: 15px;">로그아웃</button>
                            </form></li>
                    </ul>
                </li>
            </ul>
        </div>

        </div>
    </nav>
</header>

    <div class="board_wrap">
        <div class="board_title">
            <strong>공지사항</strong>
            <p>공지사항을 빠르고 정확하게 안내해드립니다.</p>
        </div>
        <div class="board_write_wrap">
            <div class="board_write">
                <div class="title">
                    <dl>
                        <dt>제목</dt>
                        <dd><input type="text" placeholder="제목 입력"></dd>
                    </dl>
                </div>
                <div class="info">
                    <dl>
                      
                        <dt>글쓴이</dt>
                        <dd><input type="text" placeholder="글쓴이 입력"></dd>
                    </dl>
                    <dl>
                        <dt>비밀번호</dt>
                        <dd><input type="password" placeholder="비밀번호 입력"></dd>
                    </dl>
                    
                </div>
                
                <div class="cont">
                    <textarea placeholder="내용 입력"></textarea>
                </div>

                <form>
                    <div class = "file">
                      <input type="file" id="file_uploads" accept=".txt" multiple>
                    </div>
                    <div class="preview">
                    
                    </div>
                </form>
            </div>
            <div class="bt_wrap">
                <a href="notice_view.html" class = "on">등록</a>
                <a href="notice_list.html" class = "on">취소</a>
            </div>

           
           
        </div>
    </div>


    <script>
        
    const input = document.querySelector('input');
  const preview = document.querySelector('.preview');
 
  input.addEventListener('change', showTextFile);
 
  function showTextFile() {
    const selectedFiles = input.files;
    const list = document.createElement('ul');
    preview.appendChild(list);
    
    for(const file of selectedFiles) {
      const listItem = document.createElement('li');
 
      if(validFileType(file)) {
        const summary = document.createElement('div');
        summary.textContent = `파일명 : ${file.name}, 파일 크기 : ${returnFileSize(file.size)}.`;
        const textContents = document.createElement('div');
        
        let reader = new FileReader();
        reader.onload = function () {
          textContents.innerText = reader.result;
        };
        reader.readAsText(file, "UTF-8");
        
        listItem.appendChild(summary);
        listItem.appendChild(textContents);
      } else {
        const message = document.createElement('div');
        message.textContent = `파일명 ${file.name}: .txt 파일을 선택하세요`;
        listItem.appendChild(message);
      }0
 
      list.appendChild(listItem);
    }
  }
 
  const fileTypes = [
    'text/plain',
  ];
 
  function validFileType(file) {
    return fileTypes.includes(file.type);
  }
 
  function returnFileSize(number) {
    if(number < 1024) {
      return number + 'bytes';
    } else if(number > 1024 && number < 1048576) {
      return (number/1024).toFixed(1) + 'KB';
    } else if(number > 1048576) {
      return (number/1048576).toFixed(1) + 'MB';
    }
  }


    </script>
</body>
</html>